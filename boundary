import java.io.*;
import java.util.*;

public class Solution {

    public static void main(String[] args) {
        /* Enter your code here. Read input from STDIN. Print output to STDOUT. Your class should be named Solution. */
    Scanner sc=new Scanner(System.in);
        String s=sc.nextLine(); 
            String sarr[]=s.split(" ");
        int n=sarr.length;
        int arr[]=new int[n];
        for(int i=0; i<n; i++) 
            arr[i]=Integer.parseInt(sarr[i]);
        
        Node root=new Node(arr[0]);
        Queue<Node> q=new LinkedList<>();
        q.offer(root);
        int i=1;
        while(i<n) {
            Node t=q.poll();
            if(i<n && arr[i]!=-1) {
                t.left=new Node(arr[i]);
                q.offer(t.left);
            }
            i++;
            if(i<n && arr[i]!=-1) {
                t.right=new Node(arr[i]);
                q.offer(t.right);
            }
            i++;
        }
        List<Integer> res=new ArrayList<>();
        res.add(root.data);
        leftboundry(root.left,res);
        leafnode(root.left,res);
        leafnode(root.right,res);
        
        rightboundry(root.right,res);
        
        for(int j=0; j<res.size(); j++){
            System.out.print(res.get(j));
            if(j<res.size()-1) System.out.print("->");
        }
        
    }  
    public static void leftboundry(Node root,List<Integer> res){
        if(root==null) return;
        
        if(root.left!=null) {
            res.add(root.data);
            leftboundry(root.left,res);
        }
        else if(root.right!=null) {
            res.add(root.data);
            leftboundry(root.right,res);
                
        }
    }
    public static void leafnode(Node root,List<Integer> res) {
        if(root==null) return;
        if(root.left==null && root.right==null) {
            res.add(root.data);
        }
        leafnode(root.left,res);
        leafnode(root.right,res);
    }
    public static void rightboundry(Node root,List<Integer> res) {
        if(root==null) return;
        
        if(root.right!=null) {
            rightboundry(root.right,res);
            res.add(root.data);
        }
        else if(root.left!=null) {
            rightboundry(root.left,res);
            res.add(root.data);
        }
        
        
    }
}
class Node{
    int data;
    Node left,right;
    Node(int data) {
        this.data=data;
        left=right=null;
    }
}
